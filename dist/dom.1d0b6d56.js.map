{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","newNode","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.dom = {\n  // 创建节点\n  create(string){\n    const container = document.createElement(\"template\")\n    container.innerHTML = string.trim()\n    return container.content.firstChild\n  },\n  // 新增弟弟\n  after(node, newNode){\n    node.parentNode.insertBefore(newNode, node.nextSibling)\n  },\n  // 新增哥哥\n  before(node, newNode){\n    node.parentNode.insertBefore(newNode, node)\n  },\n  // 新增儿子\n  append(parent, node){\n    parent.appendChild(node)\n  },\n  // 新增爸爸\n  wrap(node, parent){\n    dom.before(node, parent)\n    dom.append(parent, node)\n  },\n  // 删除节点\n  remove(node){\n    node.parentNode.removeChild(node)\n    return node\n  },\n  // 删除后代\n  empty(node){\n    const array = []\n    let x = node.firstChild\n    while(x){\n      array.push(dom.remove(node.firstChild))\n      x = node.firstChild\n    }\n    return array\n  },\n  /* 读写属性\n  * name: 属性名\n  **/\n  attr(node, name, value){\n    if (arguments.length === 3) { // 写\n      node.setAttribute(name, value)\n    }else if(arguments.length === 2){ // 读\n      return node.getAttribute(name)\n    }\n  },\n  // 读写文本内容\n  text(node, string){\n    if(arguments.length === 2){\n      if ('innerText' in node) {\n        node.innerText = string\n      }else{\n        node.textContent = string\n      }\n    }else if(arguments.length === 1){\n      if ('innerText' in node) {\n        return node.innerText\n      }else{\n        return node.textContent\n      }\n    }\n  },\n\n  // 读写HTML内容\n  html(node, string){\n    if (arguments.length === 2) {\n      node.innerHTML = string\n    }else if (arguments.length === 1) {\n      return node.innerHTML\n    }\n  },\n\n  // 修改属性\n  style(node, name, value){\n    if (arguments.length === 3) {\n      //dom.style(div, 'color', 'red')\n      node.style[name] = value\n    }else if(arguments.length === 2){\n      if (typeof name === 'string') {\n        //读 dom.style(div, 'color')\n        return node.style[name]\n      }else if(name instanceof Object){\n        // dom.style(div, {color: 'red'})\n        const object = name\n        for(let key in object){\n          node.style[key] = object[key]\n        }\n      }\n    }\n  },\n  class:{\n    // 添加class\n    add(node, className){\n      node.classList.add(className)\n    },\n    // 删除class\n    remove(node, className){\n      node.classList.remove(className)\n    },\n    // 是否存在class\n    has(node, className){\n      return node.classList.contains(className)\n    },\n    // 添加事件监听\n    on(node, eventName, fn){\n      node.addEventListener(eventName,fn)\n    },\n    // 删除事件监听\n    off(node, eventName, fn){\n      node.removeEventListener(eventName, fn)\n    }\n  },\n  /* 获取标签或标签们\n  * scope:范围\n  **/\n  find(selector, scope){\n    return (scope || document).querySelectorAll(selector)\n  },\n  // 获取父元素\n  parent(node){\n    return node.parentNode\n  },\n  // 获取子元素\n  children(node){\n    return node.children\n  },\n  // 获取兄弟姐妹元素\n  siblings(node){\n    return Array.from(node.parentNode.children).filter(n => n!== node)\n  },\n  // 获取弟弟\n  next(node){\n    let x = node.nextSibling\n    while(x && x.nodeType === 3){ // nodeType为3时是文本\n      x = x.nextSibling\n    }\n    return x\n  },\n  // 获取哥哥\n  previous(node){\n    let x = node.previousSibling\n    while(x && x.nodeType === 3){ // nodeType为3时是文本\n      x = x.previousSibling\n    }\n    return x\n  },\n  // 遍历所有节点\n  each(nodeList, fn){\n    for (let i = 0; i < nodeList.length; i++) {\n      fn.call(null, nodeList[i])\n    }\n  },\n  // 获取排行老几（从0开始）\n  index(node){\n    let i\n    const list = dom.children(node.parentNode)\n    for (i = 0; i < list.length; i++) {\n      if (list[i] === node) break\n    }\n    return i\n  }\n}"]}